

@{
    ViewBag.Title = "CambioContraseña";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Datos Fr3</title>
</head>
<body>

    @using (Html.BeginForm("CambioContraseña", "ActualizacionContraseña", FormMethod.Post, new { id = "registerForm", enctype = "multipart/form-data", }))
    {
        <div class="row justify-content-center">
            <div class="col-4">
                <div class="fs-6 fw-bold mt-2 mb-3" style=" font-size:18px; color: black"><label class="text-center">ACTUALIZACION CONTRASEÑA NUEVA PLATAFORMA</label></div>

            </div>


        </div>


        <div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
            <div class="w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
                <form class="form w-100" novalidate="novalidate" asp-action="Ingresar" id="FormularioIngresar">


                    <div class="fv-row mb-10">
                        <label class="form-label fs-6 fw-bolder text-dark">Usuario</label>
                        <input class="form-control form-control-lg form-control-solid" type="text" id="Usuario" name="Usuario" autocomplete="off"
                               value="@(ViewBag.Usuario !=null ? ViewBag.Usuario : "")" required />

                    </div>

                    <div class="fv-row mb-10">
                        <div class="d-flex flex-stack mb-2">
                            <label class="form-label fw-bolder text-dark fs-6 mb-0">Constraseña Actual:</label>

                        </div>
                        <input class="form-control form-control-lg form-control-solid" type="password" id="ContraseñaActual" name="ContraseñaActual" autocomplete="off"
                               value="@(ViewBag.ContraseñaActual !=null ? ViewBag.ContraseñaActual : "")" required />

                    </div>
                    <div class="fv-row mb-10">
                        <div class="d-flex flex-stack mb-2">
                            <label class="form-label fw-bolder text-dark fs-6 mb-0">Nueva Constraseña :</label>

                        </div>
                        <input class="form-control form-control-lg form-control-solid" type="password" valid="NuevaContraseña" name="NuevaContraseña" autocomplete="off"
                               value="@(ViewBag.NuevaContraseña !=null ? ViewBag.NuevaContraseña : "")" required />
                    </div>
                    @if (ViewBag.Mensaje != null)
                        {
                            <div class="alert alert-danger">
                                @ViewBag.Mensaje
                            </div>
                        }
                    @if (ViewBag.Error != null)
                    {
                        if (ViewBag.estado == true)
                        {
                            <script type="text/javascript">
                            window.onload = function() {
                            Swal.fire({

                            text: set(@Html.Raw(Json.Encode(ViewBag.Error))),
                            icon: "warning",
                            confirmButtonText: "Salir"
                            }).then((result) =>
                            {
                            if (result.isConfirmed)
                            {
                            window.location.reload();
                            }
                            });



                            };
                            function set(value)
                            {
                            return value;
                            }
                            </script>
                        }
                        else
                        {

                            <script type="text/javascript">
                                window.onload = function () {


                                    Swal.fire("Mensaje", set(@Html.Raw(Json.Encode(ViewBag.Error))), "warning");

                                    function set(value) {
                                        return value;
                                    }
                                };
                            </script>
                        }
                    }



                    <div class="text-center">
                        <button type="submit" class="btn btn-sm btn-success" data-dismiss="modal">Cambiar</button>
                        @*<button class="g-recaptcha btn btn-lg btn-primary w-100 mb-5"
                                                data-sitekey="6Lc4buQZAAAAAC0riDSLkGcE4SuHeMZb6tPc7L2l"
                                                data-callback='onSubmit'
                                                data-action='submit'
                                                id="btnIngresar">

                                            <a id="btnIngresar" class="btn btn-group-sm  btn-outline-primary" onclick="Actualiza()" href="#">
                                            </a>
                                            Ingresar

                                            @*<span class="indicator-progress">
                                Por favor espere... <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                            </span>*@

                    </div>
                </form>
            </div>

        </div>



    }

    @Scripts.Render("~/bundles/bootstrap")
</body>

</html>
@section scripts{
    <script>
        $(document).ready(function () {

        });
    </script>




}
